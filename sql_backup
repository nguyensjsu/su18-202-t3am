CREATE TABLE sb_user (
  user_id character varying NOT NULL  primary key,
  email character varying NOT NULL,
  full_name character varying NULL,
  password character varying NULL,
  balance numeric NULL,
  date_added bigint NULL
);
ALTER TABLE sb_user ADD UNIQUE (email);
ALTER TABLE sb_user ADD UNIQUE (user_id);

CREATE TABLE sb_card (
  card_id BIGSERIAL NOT NULL primary key,
  uid character varying NOT NULL,
  number character varying NULL,
  code character varying NULL,
  balance numeric NULL,
  date_added bigint NULL
);

create TABLE sb_purchase (
  purchase_id BIGSERIAL NOT NULL primary key,
  uid varchar UNIQUE,
  balance numeric DEFAULT 0,
  date_added bigint,
  note varchar
);


ALTER TABLE sb_purchase ADD CONSTRAINT sb_purchase_sb_uid FOREIGN KEY (uid) REFERENCES sb_user(user_id);
ALTER TABLE sb_card     ADD CONSTRAINT sb_card_sb_uid FOREIGN KEY (uid) REFERENCES sb_user(user_id);
